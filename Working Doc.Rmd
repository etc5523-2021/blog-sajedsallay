---
title: "CoronaVirus"
author: "Sajed Sallay"
date: "9/1/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(coronavirus)
library(leaflet)
library(tidyverse)
library(lubridate)
library(visdat)
library(inspectdf)
```


```{r}
covid_ow <- read_csv(here::here("data/owid-covid-data.csv"))


ow <- covid_ow %>%
  filter(location == "Indonesia")
```



```{r}
ow %>% 
  select(location,date,total_cases,new_cases,new_deaths,new_vaccinations) %>%
  DT::datatable(
    rownames = TRUE,
    colnames = c("Country", "Date", "Total Cases", "New Cases", "New Deaths", "New Vaccinations"),
    options = list(
      pageLength = 5
    ),
    class = 'cell-border stripe'
  )
```
```{r}
ow1 <- ow %>% 
  
  select(location, date, total_cases_per_million, new_cases_per_million,
         total_tests_per_thousand, weekly_icu_admissions_per_million,
          weekly_hosp_admissions_per_million,
         hosp_patients_per_million, hospital_beds_per_thousand) %>%
  
  mutate(total_tests_per_million = (total_tests_per_thousand * 1000),
          hospital_beds_per_million = (hospital_beds_per_thousand * 1000)) %>%
  
  select(location,date,total_cases_per_million, ends_with("per_million"))
         

```


```{r}
vis_dat(ow1)

```

```{r}
library(gt)
ow1 %>% 
  select(location,date,total_cases_per_million,
         new_cases_per_million,total_tests_per_million,
         hospital_beds_per_million) %>%
  tail(10) %>%
  gt() %>%
  tab_header(title = " Corono Virus In Indonesia",
             subtitle = " For the year 2021-2022")
```

